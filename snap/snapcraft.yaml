name: cevelop-alan-griffiths # you probably want to 'snapcraft register <name>'
base: core18 # the base snap is the execution environment for this snap
version: '0.1' # just for humans, typically '1.2+git' or '1.3.2'
summary: The C++ IDE for professional developers
description: |
  Major parts of Cevelop are Open Source as Eclipse CDT to which we actively
  contribute, especially in the area of the C++ parser and refactoring
  infrastructure.
grade: stable
confinement: classic

parts:
  cevelop:
    plugin: dump
    source: https://www.cevelop.com/cevelop/downloads/cevelop-1.11.1-201902151304-linux.gtk.x86_64.tar.gz

  java:
    plugin: nil
    stage-packages:
      - openjdk-11-jre
    prime:
      - -usr/lib/jvm/java-11-openjdk-amd64/lib/security/cacerts

environment:
  PATH: $PATH:/snap/cevelop/current/usr/lib/jvm/java-11-openjdk-$SNAP_ARCH/bin/
  XDG_RUNTIME_DIR: /run/user/$(id -u)

apps:
  cevelop-alan-griffiths:
    command: sh -c $SNAP/cevelop.sh -configuration $SNAP_USER_DATA/.cevelop
